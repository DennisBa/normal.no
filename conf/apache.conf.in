# To install on a Debian system:
# 1) Symlink this into: /etc/apache2/sites-available/
# 2) Then do a: a2ensite <symlink-name>

# TODO logs!

<VirtualHost *:80>
    ServerName	@@ServerName@@
    ServerAdmin	torkel@normal.no

    WSGIScriptAlias /	/srv/www/@@ServerName@@/django/website/wsgi.py

    Alias /static/	/srv/www/@@ServerName@@/htdocs/static/
    Alias /media/	/srv/www/@@ServerName@@/htdocs/media/

    # does not work. looks like wsgi.py gets it instead
    #DocumentRoot	/srv/www/new.normal.no/htdocs/

    # WSGIPythonPath cannot occur within <VirtualHost> section
    #WSGIPythonPath	/srv/www/new.normal.no/django
    #WSGIPythonOptimize 1
    #WSGIRestrictStdout 0	# what about sys.stderr?

    # ACL
    <Directory /srv/www/@@ServerName@@/django/website>
	<Files wsgi.py>
	    Order Deny,Allow
	    Allow from All
	</Files>
    </Directory>

    # be paranoid. should not be needed since only htdocs is mapped
    # but what about symlinks. A: disabled bellow (in htdocs).
    <Directory />
	Order Deny,Allow
	Deny from All
    </Directory>

    <Directory /srv/www/@@ServerName@@/htdocs>
	Allow from all
	Options None
	AllowOverride None
    </Directory>
</VirtualHost>
