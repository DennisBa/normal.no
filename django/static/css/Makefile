# @todo prefix or put autogenerated css files in own directory

LESSC=lessc

# Note: --clean-css compress a little bit better than --compress
LESSCFLAGS=--no-js --clean-css
#LESSCFLAGS=--global-var=BG=red

# Convert all less files to css.
# @todo some files can not be merged, like tinymcs inline styles.
#       so better to manually list files to concat
cssfiles := $(patsubst %.less,%.css,$(wildcard *.less))


all.css: $(cssfiles)
	cat $(cssfiles) > all.css

clean:
	rm -fv all.css
	rm -fv $(cssfiles)


%.css : %.less
	$(LESSC) $(LESSCFLAGS) $^ > $@
