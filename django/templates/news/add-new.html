{% extends "base.html" %}

{% block extrastyle %}
<style>
  #id_url {
    width: 41em;
  }
  #id_summary {
    width: 50em;
    height: 7em;
  }
  #id_title {
    width: 41em;
  }
  ul.errorlist {
    margin: 0;
    padding: 0;
  }
  ul.errorlist > li {
    list-style: none;
  }

  /* testing. form.as_ul() */
  ul.form {
    margin: 0;
    padding: 0;
  }
  ul.form > li > label {
    display: block;
    font-weight: bold;
  }
  ul.form > li {
    list-style: none;
    margin-bottom: 6px;
  }
</style>
{% endblock %}


{% block content %}

<h2>Legg til ny nyhetslenke</h2>

{% if form.errors %}
<p class="error">Vennligst rett feilen(e) under!</p>
{% endif %}

{# needed? #}
{% if form.non_field_errors %}
TODO: {{ form.non_field_errors }}
{% endif %}


{# Step 1 - Get the URL #}
{% if not step %}

<br/>
<form method="post" action='{% url "news-add-new" %}'>
  {% csrf_token %}
  <input type="hidden" name="step" value="1" />
  <strong>Adresse</strong>
  <input type="url" name="url" size="40" required />
  &nbsp;
  <input type="submit" value="Neste Â»" />
</form>

{# <li>{{ form.url.label_tag }} {{ form.url }}</li> #}


{# Step 2 - Get rest of meta data #}
{% else %}

<p><small>
  {{url}}
  {% if url != form.url.value %}
  <br/>Note: URL was transformed!
  {% endif %}
</small></p>

<form method="post">
  {% csrf_token %}
  <input type="hidden" name="step" value="2" />
  <ul class="form">
    {{ form.as_ul }}
  </ul>
  <input type="submit" value="Lagre" />
</form>

{% endif %}


{% endblock %}
